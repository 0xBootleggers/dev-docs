# Scaffold an App

Good day, developers! Today, we're diving deep into scaffolding a DAO app using the DAOhaus SDK. Let's get started.

## Starter Repo

Begin by navigating to the DAOhaus GitHub organization. Here, you'll find the [`dao-app-starter-vite`](https://github.com/HausDAO/dao-app-starter-vite) repository. This is our primary and most maintained starter kit, designed to get you up and running swiftly.

## Cloning the Repository

Now, let's set up our project. If you glance at the [README](https://github.com/HausDAO/dao-app-starter-vite#readme) you'll find the project setup instructions. We'll be using `npx degit` to clone this repository into a fresh directory. For those unfamiliar, 'degit' allows you to clone repositories without their Git history, providing a clean slate. Simply clone the repository then navigate into that directory. initialize git and install the dependencies.

```bash
npx degit HausDAO/dao-app-starter-vite my-daohaus-app

cd my-daohaus-app
```

## Installing Dependencies

With the repository on your local machine, the next step is to install the necessary dependencies. We'll be using `yarn` for this. Initialize git and install the dependencies.

```bash
git init

yarn
```

Once installed, you can peek into the `package.json` file and the `node_modules` directory to see all the dependencies we've added.

## Setting Up the Environment

Next, let's configure our environment. Start by making a copy of the sample environment `.env.sample` and renaming it `.env`. Details about the variables are provided in the [README](https://github.com/HausDAO/dao-app-starter-vite#2-env-setup).

```yaml
# rivet key for rpc calls, you can also pass in custom rpcs to many components
VITE_RIVET_KEY=

# add your graph api key if using mainnet or gnosischain
VITE_GRAPH_API_KEY_MAINNET=

# key from wallet connect is required
VITE_WALLET_CONNECT_ID=

# optional will use rate limited if not set
VITE_OPTIMISM_ALCHEMY_KEY=
VITE_ARBITRUM_ALCHEMY_KEY=
VITE_POLYGONPOS_ALCHEMY_KEY=

# add blockexplorer api keys for any supported networks
VITE_ETHERSCAN_KEY=
VITE_ARBISCAN_KEY=
VITE_GNOSISSCAN_KEY=
VITE_POLYGONSCAN_KEY=
VITE_OPTIMISMSCAN_KEY=

# corresponds to keys in targetDao.ts if scoping app to a single dao
VITE_TARGET_KEY=
```

The Rivet key is for making RPC calls. They allow users to read data on the blockchain and send transactions to the network. The free tier provides more than enough queries/transactions. If you'd like to use Rivet as your default RPC, ensure you add an environment variable for the Rivet key. These keys are available on the [Rivet website](https://rivet.cloud/).

Additionally, you can set backup keys for [Alchemy](https://docs.alchemy.com/docs/alchemy-quickstart-guide) to use on Optimism, Arbitrum, and Polygon. While these are optional, they can be beneficial.

For those fetching ABIs, especially in proposal details, you'll need API keys for the block explorer on the chains you're supporting. Get an [Etherscan API key](https://etherscan.io/apis).

We heavily utilize subgraphs. If you're building on Mainnet or Gnosis Chain, ensure you have an API key from the [The Graph](https://thegraph.com/docs/en/querying/querying-the-graph/).

Your app will likely be making queries to the `HausDAO` subgraph. But you will need to sign into Subgraph Studio to [Create API Keys](https://thegraph.com/studio/apikeys/) for your app. Once you name your app you are able to copy the key. This is the value needed in the `.env`.

The Graph requires having GRT deposited to the Billing contract for queries to work. It is difficult to estimate how many queries your app will be making but individual queries are not very expensive. Depositing 10-100 GRT should be more than enough for now.

To utilize the WalletConnect features in the [DAOhaus Connect](/sdk/react/connect) package you need to create new project and get the 'Project ID' from [WalletConnect](https://cloud.walletconnect.com/app).

Lastly, there's a 'target key' which we'll delve into later. This is particularly useful if you're designing an app for a single DAO and is simply the contract address for the DAO your app is connected to.

## Running the Development Server

With our environment set up, it's time to run the development server. Execute the command `yarn dev`. This will run the app locally on port 5173. Once executed, open your browser and navigate to [http://localhost:5173/](http://localhost:5173/). You should see the app loading and ready to go.

![your-haus](https://github.com/HausDAO/monorepo/assets/522182/6c69d5e2-f7e7-4255-b796-d2b3b3c54d79)

## Exploring the Repository Structure

Before diving into the user interface, let's familiarize ourselves with the repository's structure. At the base level, you'll find essential files like '.env' and '.gitignore'. The 'index' file can be edited to customize your page title. The 'package.JSON' file lists all our dependencies. Notably, we're importing every DAOhaus SDK library here. Our build tooling for this app is Vite. It's fast, efficient, and has served us well for rapid application development. The 'public' folder contains assets, including a base favicon. The 'source' folder is where the magic happens. It contains our main app, components, pages, and more. As you explore, you'll notice the extensive use of the DAOhaus SDK, providing a plethora of custom components to streamline your development.

## \*Navigating the UI Features

Now that we've set up our environment and familiarized ourselves with the repository structure, let's delve into the UI features and their corresponding code sections. Starting with the homepage, it's designed to be minimalistic, serving as a splash page. You can easily locate its content and make edits as needed. Notice the title and the DAOhaus Connect wallet feature? These are components from our SDK, providing wallet connection functionality right from the get-go.

## Exploring the DAOhaus Connect Package

The DAOhaus Connect Package is a gem. By integrating it, you get a navigation bar with links, a footer, and a connection tool. This ensures a seamless user experience. When you scope to a specific DAO, the navigation bar expands, offering more options and functionalities.

## Diving into DAO Pages

Let's explore the DAO pages. The DAO overview page, for instance, pulls from the 'Moloch v3 Macro UI', one of our comprehensive React component libraries. This provides a holistic view of the DAO, including proposal information, token details, and more. The treasury page showcases the DAO's assets, while the proposals page lists all proposals with options to view detailed information, vote, cancel, or execute them. The members page offers a list of all DAO members, and by clicking on an individual member, you can view their detailed profile.

## Understanding Macro Components

As you navigate through the app, you'll notice our extensive use of macro components. These are larger components that combine multiple smaller components, data, and functionalities. For instance, the proposal details page is constructed using several macro components, such as proposal details, proposal actions, and proposal history. This modular approach allows for flexibility and customization. Similarly, the settings page uses the 'DAO settings' macro, while the profile page provides options to view and edit user profiles.

## The Power of Modular Design

One of the strengths of this starter kit is its modular design. Whether you're looking at atomic components or more complex macro components, you can easily mix, match, and customize to fit your needs. For instance, if you wanted to display only proposal details on a specific page, you could simply drop in the corresponding component. This flexibility accelerates development and fosters creativity.

## Understanding Multi DAO vs Single DAO Setup

Let's dive into the flexibility of the DAOhaus SDK. Whether you're aiming for a multi-DAO or a single-DAO setup, we've got you covered. For those familiar with our admin app, it functions like a multi-tenant application, capable of loading any DAO and providing consistent functionalities across multiple DAOs. However, if your goal is to cater to just one DAO, the setup is straightforward.

## Setting Up for a Single DAO

To configure for a single DAO, you'll need to set up a 'VT target key'. This key essentially tells the app which specific DAO to focus on. You'll input the DAO address into this target key. Following this, navigate to the 'Target DAO' file. This is where you'll provide some additional details about the chosen DAO. For clarity, the repository's readme offers step-by-step instructions. But to give you a quick rundown: In the 'Target DAO' object, input the DAO address as the key. Then, within the object, provide the DAO address again, the DAO's safe address, and the chain ID. These are the essential details required. For instance, if you're working with a DAO with the address '0xF65...', input this into your environment variable. The app will then exclusively load data for this DAO.

## Demonstrating the Single DAO Setup

Let's see this in action. Currently, the app is set up for a DAO on the Goerli network with the address '0xF65...'. When you load the app, you'll notice it detects this target DAO and displays relevant data. But what if we want to switch DAOs? Simply update the 'VT target key' with a new DAO address. For example, changing to a DAO on the Mainnet will update the app's focus accordingly.

## Setting Up for Multiple DAOs

If your aim is to cater to multiple DAOs, the process is equally simple. Start by removing the 'VT target key' variable. Once done, the app becomes versatile, ready to work with any DAO you choose. For instance, if you want to load data for 'Haus hats', simply adjust the URL. The app will now look for this specific DAO. This flexibility means you can even incorporate a lookup tool on your homepage, allowing users to navigate between different DAOs with ease.

## Recap

In summary, whether you're aiming for a single or multi-DAO setup, the process is streamlined and user-friendly. For multiple DAOs, remember to omit the target key and utilize the URL structure for navigation. With these tools at your disposal, you're well-equipped to create a tailored experience for your users, be it for one or multiple DAOs.

## Editing Pages and Working with Components

Now, let's dive into the customization capabilities of the DAOhaus SDK. We'll explore how effortlessly you can edit pages and work with the components we provide. Imagine you're content with the sales page, but you'd like to add a different context or perhaps a new feature.

## Moving Components Around

For demonstration purposes, let's consider a scenario: You don't want a full-fledged members page. Instead, you'd like a condensed members list right on the DAO homepage. To achieve this, navigate to the pages directory. Here, you'll find the DAO overview page and the members page. First things first, let's declutter the navigation by removing the members link. And voila, it's gone!

## Integrating the Members List

Now, let's focus on the Members list. This component is a great example of the SDK's flexibility. While you can delete it entirely, for now, we'll repurpose it. The member list component requires the DAO chain and the DAO ID. Additionally, it offers options like 'allow links' and 'allow member menu', which enable or disable specific links. You can refer to our documentation for a deeper understanding of these options. Using the 'use current DAO' hook, the component fetches the DAO chain and the DAO ID. Since we already have this data on our DAO overview page, integrating the member list should be straightforward. Let's add the member list to our DAO overview. And there you have it, a seamlessly integrated members list right on the homepage!

## Enhancing the Layout

While the layout looks good, let's enhance it further. How about adding a header above the members list for clarity? Using the DAOhaus UI, we can easily pull in an H4 header. Opting for a centered alignment gives it a polished look. Notice the links? By enabling 'allow links', we activate the member menu and associated links, offering functionalities like 'guild kick'.

## Recap

In this segment, we demonstrated the ease of customizing pages, moving components, and enhancing layouts using the DAOhaus SDK. The toolkit's flexibility ensures you can tailor the app to your specific needs, ensuring a unique and user-friendly experience.

## Wrapping Up

To sum up our walkthrough today, the DAOhaus SDK is designed to be your springboard. It's not just about building a DAO app; it's about innovating, prototyping, and bringing your unique ideas to life. Our primary goal is to streamline the process, ensuring you can transition from concept to a fully functional DAO app in record time. Think of the SDK as your blank canvas. While we provide the tools and the foundation, the masterpiece is yours to create. Dive in, experiment, and customize to your heart's content.

Best of luck on your DAO app journey, and remember, the possibilities are endless!
